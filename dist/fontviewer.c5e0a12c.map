{"version":3,"sources":["index.js"],"names":["drawGlyphs","n","currentPage","base","window","scrollTo","setTimeout","document","querySelector","innerHTML","chars","span","createElement","i","value","String","fromCharCode","newSpan","classList","add","appendChild","q","links","querySelectorAll","glyphs","removeSelected","forEach","call","link","remove","addSelected","idx","addEventListener","event","target","style","fontFamily","fontSize","color","file","files","arrayBuffer","arrayReader","FileReader","onload","result","readAsArrayBuffer","reader","readAsDataURL","type","createTextNode","name","head"],"mappings":"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","file":"fontviewer.c5e0a12c.map","sourceRoot":"..","sourcesContent":["function drawGlyphs(n) {\n  currentPage = n;\n  const base = n*16*16*16;\n  window.scrollTo(0, 0);\n  setTimeout(() => document.querySelector('.glyphs').innerHTML = '', 1);\n  let chars = '';\n  let span = document.createElement('span');\n  for (let i = base; i < base+16*16*16; i++) {\n    const value = String.fromCharCode(i);\n    const newSpan = document.createElement('span');\n    newSpan.innerHTML = `${value}\\t`;\n    newSpan.classList.add('glyph');\n    span.appendChild(newSpan);\n\n    if (i%16 === 0) {\n      (q => setTimeout(() => {\n        if (q === currentPage) {\n          document.querySelector('.glyphs').appendChild(span)\n          span = document.createElement('span');\n        }\n      }, 1))(n);\n      chars = '';\n    }\n  }\n}\n\nlet currentPage = 0;\ndrawGlyphs(currentPage);\n\nconst links = document.querySelectorAll('.aside li');\nconst glyphs = document.querySelector('.glyphs');\n\nfunction removeSelected() {\n  [].forEach.call(links, function(link) {\n    link.classList.remove('selected');\n  });\n}\n\nfunction addSelected(link) {\n  link.classList.add('selected');\n}\n\n[].forEach.call(links, function(link, idx) {\n  link.addEventListener('click', function(event) {\n    drawGlyphs(idx);\n    removeSelected();\n    addSelected(event.target);\n  });\n});\n\ndocument.querySelector('.font-family-selector').addEventListener('change', function(event) {\n  glyphs.style.fontFamily = event.target.value;\n});\n\ndocument.querySelector('.font-size-selector').addEventListener('change', function(event) {\n  glyphs.style.fontSize = event.target.value;\n});\n\ndocument.querySelector('.color-selector').addEventListener('change', function(event) {\n  glyphs.style.color = event.target.value;\n});\n\ndocument.querySelector('.file-reader').addEventListener('change', function(event) {\n  const file = event.target.files[0];\n  if (file) {\n    let arrayBuffer;\n    const arrayReader = new FileReader();\n    arrayReader.onload = function(event) {\n      arrayBuffer = event.target.result;\n      debugger;\n    };\n    arrayReader.readAsArrayBuffer(file);\n\n\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.addEventListener('load', function() {\n      const style = document.createElement('style');\n      style.type = 'text/css';\n      style.appendChild(document.createTextNode(`\n        @font-face {\n          font-family: \"${file.name}\";\n          src: url(${reader.result}) format(\"woff\");\n        }\n      `));\n      document.head.appendChild(style);\n      glyphs.style.fontFamily = `\"${file.name}\"`;\n    });\n  }\n});\n"]}